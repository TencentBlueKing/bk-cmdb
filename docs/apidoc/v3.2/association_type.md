# 关联类型

### 查询关联类型

* API：POST / api / {version} / find / associationtype
* API名称：search_association_type
* 功能说明：
  * 中文：查询关联类型
  * 英语：搜索关联类型
* 输入体
```
{
    "page":{
        "start":0,
        "limit":100,
        "sort":"bk_asst_id"
    },
    "condition":{
        "bk_asst_name": {
            "$eq": "belong"
        }
    }
}
```
* 输入字段说明

page参数说明：

| 名称 | 类型 | 必填 | 默认值 | 说明                  | 描述                  |
| ---- | ---- | ---- | ------ | --------------------- | --------------------- |
| 开始 | INT  | 是   | 无     | 记录开始位置          | 开始记录              |
| 限制 | INT  | 是   | 无     | 每页限制条数，最大200 | 页数限制，最大值为200 |
| 分类 | 串   | 否   | 无     | 排序字段              | 排序领域              |


| 字段名       | 类型 | 必填 | 默认值 | 说明                                                                                | 描述                 |
| ------------ | ---- | ---- | ------ | ----------------------------------------------------------------------------------- | -------------------- |
| bk_asst_id   | 串   | 是   | 无     | 唯一标识                                                                            | 独特的识别           |
| bk_asst_name | 串   | 是   | 无     | 显示的名称                                                                          | 协会的名称           |
| src_des      | 串   | 是   | 无     | “源 - >目标” 描述                                                                   | 从源到目的地的描述   |
| dest_des     | 串   | 是   | 无     | “目标 - >源” 描述                                                                   | 从目的地到来源的描述 |
| 方向         | 枚举 | 否   | 无     | 连线的方向，默认无。枚举值：[none，src_to_dest，dest_to_src，bidirectional（双向）] | 该线的方向           |

* 产量
```
{
    "result": true,
    "bk_error_code": 0,
    "bk_error_msg": null,
    "data": {
        "count": 1,
        "info":[{
            "id": 1,
            "bk_asst_id": "belong",
            "bk_asst_name": "属于",
            "src_des": "属于",
            "dest_des": "被属于",
            "direction": "none",
        }]
    }
}
```
注：以上JSON数据中各字段的取值仅为示例数据。

* 输出字段说明

| 字段          | 类型 | 说明                                | 描述                                 |
| ------------- | ---- | ----------------------------------- | ------------------------------------ |
| 结果          | 布尔 | ture：成功，假：失败                | true：成功，错误：失败               |
| bk_error_code | INT  | 错误编码.0表示成功，> 0表示失败错误 | 错误代码。0表示成功，> 0表示失败代码 |
| bk_error_msg  | 串   | 请求失败返回的错误信息              | 失败请求的错误消息                   |
| 数据          | 宾语 | 结果数据                            | 结果                                 |

数据说明

| 字段 | 类型     | 说明     | 描述       |
| ---- | -------- | -------- | ---------- |
| 计数 | INT      | 数据条数 | 数据项计数 |
| 信息 | 对象数组 | 数据集合 | 数据数组   |

信息说明

| 字段         | 类型 | 说明                                                                                | 描述                                   |
| ------------ | ---- | ----------------------------------------------------------------------------------- | -------------------------------------- |
| ID           | INT  | 自增ID                                                                              | 自动递增ID                             |
| bk_asst_id   | 串   | 唯一标识                                                                            | 独特的识别                             |
| bk_asst_name | 串   | 显示的名称                                                                          | 协会的名称                             |
| src_des      | 串   | “源 - >目标” 描述                                                                   | 从源到目的地的描述                     |
| dest_des     | 串   | “目标 - >源” 描述                                                                   | 从目的地到来源的描述                   |
| 方向         | 枚举 | 连线的方向，默认无。枚举值：[none，src_to_dest，dest_to_src，bidirectional（双向）] | 该线的方向                             |
| ispre        | 布尔 | 是否是预置，预置的关联类型不允许删除                                                | 预设，如果预设了该关联类型，则禁止删除 |

### 添加关联类型

* API：POST / api / {version} / create / associationtype
* API名称：create_association_type
* 功能说明：
  * 中文：创建关联类型
  * 英语：创建关联类型
* 输入体
```
{
    "bk_asst_id": "belong",
    "bk_asst_name": "属于",
    "src_des": "属于",
    "dest_des": "被属于",
    "direction": "none",
}
```
* 输入字段说明

| 字段名       | 类型 | 必填 | 默认值 | 说明                                                                                | 描述                 |
| ------------ | ---- | ---- | ------ | ----------------------------------------------------------------------------------- | -------------------- |
| bk_asst_id   | 串   | 是   | 无     | 唯一标识                                                                            | 独特的识别           |
| bk_asst_name | 串   | 是   | 无     | 显示的名称                                                                          | 协会的名称           |
| src_des      | 串   | 是   | 无     | “源 - >目标” 描述                                                                   | 从源到目的地的描述   |
| dest_des     | 串   | 是   | 无     | “目标 - >源” 描述                                                                   | 从目的地到来源的描述 |
| 方向         | 枚举 | 否   | 无     | 连线的方向，默认无。枚举值：[none，src_to_dest，dest_to_src，bidirectional（双向）] | 该线的方向           |

* 产量
```
{
    "result": true,
    "bk_error_code": 0,
    "bk_error_msg": null,
    "data": {
        "id": 1038
    }
}
```
* 输出字段说明

| 字段类型      | 说明 | 描述                                |
| ------------- | ---- | ----------------------------------- | ------------------------------------ |
| 结果          | 布尔 | ture：成功，假：失败                | true：成功，错误：失败               |
| bk_error_code | INT  | 错误编码.0表示成功，> 0表示失败错误 | 错误代码。0表示成功，> 0表示失败代码 |
| bk_error_msg  | 串   | 请求失败返回的错误信息              | 失败请求的错误消息                   |
| 数据          | 宾语 | 操作结果                            | 结果                                 |

数据字段说明

| 字段 | 类型 | 说明   | 描述       |
| ---- | ---- | ------ | ---------- |
| ID   | INT  | 自增ID | 自动递增ID |

### 编辑关联类型

* API：PUT / api / {version} / update / associationtype / {id}
* API名称：update_association_type
* 功能说明：
  * 中文：编辑关联类型
  * 英语：更新关联类型
* 输入体
```
{
    "bk_asst_name": "属于",
    "src_des": "属于",
    "dest_des": "被属于",
    "direction": "none",
}
```
* 输入字段说明

| 字段名       | 类型 | 必填 | 默认值 | 说明                                                                                | 描述                 |
| ------------ | ---- | ---- | ------ | ----------------------------------------------------------------------------------- | -------------------- |
| ID           | INT  | 是   | 无     | 自增ID                                                                              | 自动递增ID           |
| bk_asst_name | 串   | 是   | 无     | 显示的名称                                                                          | 协会的名称           |
| src_des      | 串   | 是   | 无     | “源 - >目标” 描述                                                                   | 从源到目的地的描述   |
| dest_des     | 串   | 是   | 无     | “目标 - >源” 描述                                                                   | 从目的地到来源的描述 |
| 方向         | 枚举 | 否   | 无     | 连线的方向，默认无。枚举值：[none，src_to_dest，dest_to_src，bidirectional（双向）] | 该线的方向           |

* 产量
```
{
    "result": true,
    "bk_error_code": 0,
    "bk_error_msg": null,
    "data": "success"
}
```
注：以上JSON数据中各字段的取值仅为示例数据。

* 输出字段说明

| 字段          | 类型 | 说明                                | 描述                                 |
| ------------- | ---- | ----------------------------------- | ------------------------------------ |
| 结果          | 布尔 | ture：成功，假：失败                | true：成功，错误：失败               |
| bk_error_code | INT  | 错误编码.0表示成功，> 0表示失败错误 | 错误代码。0表示成功，> 0表示失败代码 |
| bk_error_msg  | 串   | 请求失败返回的错误信息              | 失败请求的错误消息                   |
| 数据          | 串   | 结果数据                            | 结果                                 |

### 删除关联类型

* API：DELETE / api / {version} / delete / associationtype / {id}
* API名称：delete_association_type
* 功能说明：
  * 中文：删除关联类型
  * 英语：删除关联类型
* 输入体

无

* 输入字段说明

无

* 产量
```
{
    "result": true,
    "bk_error_code": 0,
    "bk_error_msg": null,
    "data": "success"
}
```
注：以上JSON数据中各字段的取值仅为示例数据。

* 输出字段说明

| 字段          | 类型 | 说明                                | 描述                                 |
| ------------- | ---- | ----------------------------------- | ------------------------------------ |
| 结果          | 布尔 | ture：成功，假：失败                | true：成功，错误：失败               |
| bk_error_code | INT  | 错误编码.0表示成功，> 0表示失败错误 | 错误代码。0表示成功，> 0表示失败代码 |
| bk_error_msg  | 串   | 请求失败返回的错误信息              | 失败请求的错误消息                   |
| 数据          | 串   | 结果数据                            | 结果                                 |

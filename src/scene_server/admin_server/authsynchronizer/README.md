# Auth synchronizer

## 用途
用于将CMDB的数据同步到权限中心(IAM), 保证所有的CMDB在IAM都有注册，并清理IAM中无效的资源（在CMDB中的对应资源ID已经被删除）


## 方案设计

### 同步粒度
一次同步的数据量过大会导致一系列问题：1. CMDDB 和 IAM 系统负载高; 2. 失败重试成本高（需要全量重新开始）。
为了避免这种情况，本模块采用规模适中的粒度作为一次同步任务，比如主机资源的同步按业务进行，一个业务下的主机作为一次同步任务。

### 设计模式
生产消费者模式

### 工作机制
- 生产者模块：读取需要同步的scope列表, 组成装同步任务，然后放入channel
- 消费者模块：一次取出一个任务，完成后再取下一个任务

### 与其它模块交互方式
微服务方式
